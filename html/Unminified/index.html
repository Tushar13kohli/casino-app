<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,minimal-ui,shrink-to-fit=no">
        <title>Lucky Slot Machine</title>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="./styles.css">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
        <link rel="shortcut icon" sizes="256x256" href="img/icon.png"/>
        <script type="text/javascript" src="scripts/phaser.min.js"></script>
        <script type="text/javascript" src="scripts/utils.js"></script>

        <script>
            let maxBet = 2000000000;
            let minBet = 10;
            $(document).ready(function () {
                let spanButton = getElement("right-button");
                let criteria = isBetCriteriaHigh();
                if (! criteria) {
                    spanButton.classList.add("right");
                }
                console.log("ready")
                $('.switch label').on('click', function () {
                    var indicator = $(this).parent('.switch').find('span');
                    if ($(this).hasClass('right')) {
                        $(indicator).addClass('right');
                    } else {
                        $(indicator).removeClass('right');
                    }
                });
            });


            let betCriteria;
            let betAmount;

            window.onload = () => {
                betCriteria = getValueFromLocalStorage("betCriteria") || "high";
                betAmount = getValueFromLocalStorage("betAmount");
                const betAmountElem = getElement("bet-amount")
                const betCriteriaElem = getElement(betCriteria)
                const headerAmount = getElement("amount");
                const headerCriteria = getElement("criteria");
                headerAmount.innerHTML = betAmount.toUpperCase()
                headerCriteria.innerHTML = betCriteria === "high" ? "Higher than 49,999": "Lower than 49,999";;
                betCriteriaElem.value = betCriteria;
                betAmountElem.value = betAmount;
                writeToLocalStorage("betCriteria", betCriteria);
                writeToLocalStorage("betAmount", betAmount);
            }
            function isBetCriteriaHigh() {
                return getValueFromLocalStorage("betCriteria") === "high";
            }
            function onClickCriteria(event) {
                debugger;
                writeToLocalStorage("betCriteria", event.target.value);
                const headerCriteria = getElement("criteria");
                headerCriteria.innerHTML = event.target.value === "high" ? "Higher than 49,999": "Lower than 49,999";
            }
            function onChangeBet(event) {
                const inputElem = getElement("bet-amount")
                const headerAmount = getElement("amount")
                headerAmount.innerHTML = event.target.value;
                inputElem.value = event.target.value
                writeToLocalStorage("betAmount", inputElem.value);
            }
            function onChooseBet(number) {
                const inputElem = getElement("bet-amount")
                const headerAmount = getElement("amount")
                headerAmount.innerHTML = number;
                inputElem.value = number
                writeToLocalStorage("betAmount", inputElem.value);
            }
        </script>
    </head>
    <body>
        <div>
            <nav class="navbar navbar-dark bg-dark header-styles justify-content-around">
                <div class="text-white w-70">
                    <p class="mb-0">Bet Criteria: <span id="criteria"class="choice-criteria"></span></p>
                    <p class="mb-0">Bet Amount: <span id="amount" class="choice-amount">10000</span></p>
                </div>
                <button class="setting-button navbar-toggler text-white font-weight-bold" type="button" data-toggle="modal" data-target="#myModal2" data-toggle="collapse" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                    <span>Bet Settings
                        <i class="fa fa-gear fa-spin" style="font-size:24px"></i>
                    </span>
                </button>
                <div class="modal right fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header gradient-background">
                                <h4 class="modal-title" id="myModalLabel2">Bet Settings</h4>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    X
                                </button>
                            </div>
                            <div class="modal-body">
                                <p>Bet criteria</p>
                                <div class="switch">
                                    <input name="high" onclick="onClickCriteria(event)" type="radio" value="high" id="high">
                                    <label id="high" for="high">Higher than 49,999</label>
                                    <input name="low" onclick="onClickCriteria(event)" checked type="radio" value="low" id="low">
                                    <label id="low" for="low" class="right">Lower than 49,999</label>
                                    <span id="right-button" aria-hidden="true"></span>
                                </div>
                                <div class="input-group mt-3 ">
                                    <input id="bet-amount" onchange="onChangeBet(event)" type="text" placeholder="Bet Amount" class="form-control" placeholder="Bet Amount" aria-describedby="button-addon3">
                                    <button onclick="onChooseBet(maxBet)" class="btn btn-warning button-style">Max</button>
                                    <button onclick="onChooseBet(minBet)" class="btn btn-info min-button-style">Min</button>
                                </div>
                                <div class="input-group mt-3">
                                    <button onclick="onChooseBet(10000000)" class="btn btn-warning mr-button">
                                        10M</button>
                                    <button onclick="onChooseBet(20000000)" class="btn btn-warning mr-button">
                                        20M</button>
                                    <button onclick="onChooseBet(30000000)" class="btn btn-warning mr-button">
                                        30M</button>
                                    <button onclick="onChooseBet(40000000)" class="btn btn-warning mr-button">
                                        40M</button>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html></nav></div><div><iframe class="main-wrapper" src="./test.html"></iframe></div></body></html>
